<app-modal-wrapper [config]="{disableClose: true, size: 'normal'}" (dismiss)="closeModal()" #modal>
  <ng-template sbModalContent>
    <div class="sb-modal">
      <div class="transition ui dimmer page modals active visible">
        <div class="ui modal transition active visible normal">
          <div class="sb-modal-header">
            {{resourceService?.frmelmnts?.lbl?.desktop?.storageSpaceRunningOutHeader}}
          </div>

          <div class="sb-modal-content flex-dc">
            <div *ngIf="!showContentChangeWarning">
              <p class="text-center fmedium import-content">
                {{resourceService?.frmelmnts?.lbl?.desktop?.failedListLabel}}
              </p>
              <div class="custom-height">
                <div class="p-8 warning-ecar-list" *ngFor="let items of failedList">
                  {{items['name']}}
                </div>
              </div>
            </div>

            <div *ngIf="showContentChangeWarning">
              <p class="text-center fmedium import-content">
                {{resourceService?.messages?.stmsg?.changeContentLocationWarning }}
              </p>
              <div class="ui segments">
                <div class="ui segment">
                  <p>{{resourceService?.frmelmnts?.lbl?.chooseContentLocationDrive}}</p>
                  <mat-form-field appearance="fill" class="sb-mat__dropdown w-100 mb-16">
                    <mat-label>{{resourceService?.frmelmnts?.lbl?.selectDrive}}</mat-label>
                    <mat-select [(ngModel)]="selectedDrive" (ngModelChange)="onAfterCourseChange($event)" [options]="drives" class="selection min-width-18"
                    labelField="label" #drivesOption>
                      <mat-option class="mat-dropdown__options" [disabled]="drive?.isCurrentContentLocation" role="option" [ngClass]="{'active': course.identifier === identifier }"
                      *ngFor="let drive of drivesOption?.filteredOptions" [value]="drive" appTelemetryInteract
                      [telemetryInteractEdata]="getDriveSelectInteractEdata(drive)"
                      attr.aria-label="{{drive}}">{{drive}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>

          <div class="sb-modal-actions">
            <button class="sb-btn sb-btn-normal sb-btn-outline-warning" tabindex="0" (click)="closeModal(selectedDrive)"
              appTelemetryInteract [telemetryInteractEdata]="popupInteractEdata">
              {{resourceService?.frmelmnts?.btn?.ok}}
            </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</app-modal-wrapper>